<Window x:Class="DisplayManager.WpfApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Display Manager Toolkit"
        Height="600" Width="900"
        Background="#FF1F1F1F"
        Foreground="White">
    <Window.Resources>
        <Style TargetType="Button">
            <Setter Property="Margin" Value="4" />
            <Setter Property="Padding" Value="12,6" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="Background" Value="#FF3A6EA5" />
            <Setter Property="BorderBrush" Value="#FF2C4E73" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="FontWeight" Value="SemiBold" />
        </Style>
        <SolidColorBrush x:Key="CardBrush" Color="#FF2B2B2B" />
        <Style TargetType="DataGrid">
            <Setter Property="Background" Value="#FF2B2B2B" />
            <Setter Property="AlternatingRowBackground" Value="#FF1F1F1F" />
            <Setter Property="RowBackground" Value="#FF333333" />
            <Setter Property="HeadersVisibility" Value="Column" />
            <Setter Property="GridLinesVisibility" Value="Horizontal" />
            <Setter Property="BorderBrush" Value="#FF444444" />
            <Setter Property="BorderThickness" Value="1" />
        </Style>
    </Window.Resources>
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <StackPanel Orientation="Vertical" Grid.Row="0" Margin="0,0,0,12">
            <TextBlock Text="Display Manager Integration Harness" FontSize="22" FontWeight="Bold" />
            <TextBlock Text="Use the buttons below to exercise the DisplayManager API with friendly-name assignments." FontSize="13" Opacity="0.7" />
        </StackPanel>

        <Border Grid.Row="1" Background="{StaticResource CardBrush}" CornerRadius="8" Padding="12">
            <DockPanel>
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="0,0,0,8">
                    <Button Content="Refresh Monitors" Click="RefreshMonitors_Click" />
                    <Button Content="Assign Friendly Name" Click="AssignFriendlyName_Click" />
                    <Button Content="Locate by Friendly Name" Click="LocateMonitor_Click" />
                    <Button Content="Rotate Display" Click="RotateMonitor_Click" />
                    <Button Content="Show Test Window" Click="ShowTestWindow_Click" />
                    <Button Content="Tracked Windows" Click="ShowTrackedWindows_Click" />
                </StackPanel>
                <DataGrid ItemsSource="{Binding Monitors}" SelectedItem="{Binding SelectedMonitor, Mode=TwoWay}"
                          AutoGenerateColumns="False" CanUserAddRows="False" CanUserDeleteRows="False"
                          HeadersVisibility="Column" IsReadOnly="True">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Assigned Friendly Name" Binding="{Binding AssignedName}" Width="*" />
                        <DataGridTextColumn Header="System Friendly Name" Binding="{Binding Info.FriendlyName}" Width="2*" />
                        <DataGridTextColumn Header="GDI Name" Binding="{Binding Info.DeviceName}" Width="*" />
                        <DataGridTextColumn Header="Adapter LUID" Binding="{Binding Info.AdapterLuid}" Width="1.5*" />
                        <DataGridTextColumn Header="Target Id" Binding="{Binding Info.TargetId}" Width="*" />
                        <DataGridTextColumn Header="Bounds" Binding="{Binding BoundsDescription}" Width="1.5*" />
                        <DataGridTextColumn Header="Primary" Binding="{Binding Info.IsPrimary}" Width="*" />
                    </DataGrid.Columns>
                </DataGrid>
            </DockPanel>
        </Border>

        <Border Grid.Row="2" Background="{StaticResource CardBrush}" CornerRadius="8" Padding="12" Margin="0,12,0,0">
            <TextBlock Text="{Binding StatusMessage}" />
        </Border>
    </Grid>
</Window>
